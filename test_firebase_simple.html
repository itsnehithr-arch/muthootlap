<!DOCTYPE html>
<html>
<head>
    <title>Simple Firebase Test</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <h1>Simple Firebase Test</h1>
    <div id="log"></div>

    <script>
        const log = (message) => {
            document.getElementById('log').innerHTML += message + '<br>';
            console.log(message);
        };

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBdMu5Drpc21T8_GefLqFL_8idBoQSyr5w",
            authDomain: "prj-mg-coblr-nprd-lap-custjour.firebaseapp.com",
            projectId: "prj-mg-coblr-nprd-lap-custjour",
            storageBucket: "prj-mg-coblr-nprd-lap-custjour.firebasestorage.app",
            messagingSenderId: "350303734023",
            appId: "1:350303734023:web:7563f5da96d11d087e1da2"
        };

        log('Starting Firebase test...');

        try {
            log('Initializing Firebase...');
            firebase.initializeApp(firebaseConfig);
            log('‚úÖ Firebase initialized successfully');

            log('Testing Auth...');
            const auth = firebase.auth();
            log('‚úÖ Auth service available');

            log('Testing anonymous sign-in...');
            auth.signInAnonymously()
                .then((userCredential) => {
                    log('‚úÖ Anonymous sign-in successful');
                    log('User ID: ' + userCredential.user.uid);
                    
                    // Now test Firestore
                    log('Testing Firestore...');
                    const db = firebase.firestore();
                    return db.collection('test').doc('test').get();
                })
                .then((doc) => {
                    log('‚úÖ Firestore access successful');
                    log('üéâ All Firebase services working!');
                })
                .catch((error) => {
                    log('‚ùå Error: ' + error.message);
                    log('Error code: ' + error.code);
                });

        } catch (error) {
            log('‚ùå Initialization error: ' + error.message);
        }
    </script>
</body>
</html>
